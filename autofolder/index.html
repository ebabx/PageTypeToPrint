<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Julien Bidoret" /><link rel="canonical" href="https://ebabx.github.io/PageTypeToPrint/autofolder/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Catalogue d’images - PageTypeToPrint</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Catalogue d\u2019images";
        var mkdocs_page_input_path = "autofolder.md";
        var mkdocs_page_url = "/PageTypeToPrint/autofolder/";
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> PageTypeToPrint
        </a>
        <div class="version">
          1.0.0
        </div><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Accueil</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Démarrer</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../installation/">Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../contenu/">Configuration et contenu</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../theme/">Thème</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../gabarits/">Gabarits</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../markdown/">Contenu au format markdown</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../print/">Version imprimable / pdf</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../online/">Mise en ligne</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Composition</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../typo/">Typographie</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../sommaire/">Sommaire</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../images/">Images et vidéos</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../appendices/">Annexes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../glossaire/">Glossaire</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../entretiens/">Entretiens</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../references/">Références et bibliographie</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../notes/">Notes</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Aller plus loin</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../extend/">Extensions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../extendcss/">Premiers pas</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../booklet/">Livret</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../pads/">Collaboration</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Catalogue d’images</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#exemple-pas-a-pas">Exemple pas à pas</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#etape-1-configuration-du-document">Étape 1 : configuration du document</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#etape-2-simplification-de-bodyphp">Étape 2 : simplification de body.php</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#etape-2-simplification-de-la-css-stylecss">Étape 2 : simplification de la CSS style.css</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#etape-3-modifications-de-screen_headphp">Étape 3 : Modifications de screen_head.php</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#etape-4-modifications-de-la-css-printcss">Étape 4 : Modifications de la CSS print.css</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#etape-5-modifications-de-print_headphp">Étape 5 : Modifications de print_head.php</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../advanced-notes/">Notes avancées</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">PageTypeToPrint</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Aller plus loin &raquo;</li>
      <li>Catalogue d’images</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/ebabx/PageTypeToPrint/edit/master/docs/autofolder.md">Edit on PageTypeToPrint</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h2 id="catalogue-dimages">Catalogue d’images</h2>
<p>On peut déterminer que la source d’un contenu ne soit ni un fichier markdown, ni l’URL d’un pad, mais un dossier d’images.</p>
<p>C’est une solution moins souple et moins précise que la structuration d’une série d’images via les logiques décrites dans la <a href="../appendices/">gestion des annexes</a>, mais beaucoup plus rapide :)</p>
<pre><code class="language-yaml">parts:

  - title: Images en vrac 
    file: &quot;&quot; # la déclaration &quot;file&quot; reste vide (ou est supprimée)
    folder: images/dossier # on déclare le chemin vers le dossier 
    template: autofolder # le gabarit de mise en page 

  …

</code></pre>
<p>Les fichiers gif, jpg, png, svg et webp seront automatiquement intégrés dans une succession d’éléments <code>&lt;figure&gt;</code>. </p>
<p>Les images verticales (hauteur &gt; largeur) auront une class <code>portrait</code> ; les horizontales une class <code>landscape</code>.</p>
<h3 id="exemple-pas-a-pas">Exemple pas à pas</h3>
<p>Le thème <code>catalogue</code> simplifie à l’extrême les logiques initiales de <em>PageTypeToPrint</em> pour n’en conserver qu’une structure minimale :</p>
<ul>
<li>à l’écran : une simple page qui liste des images en faisant varier leur taille et leur mise en page de manière aléatoire.</li>
<li>en version imprimée : un format A4 fermé imposé automatiquement sur format A3 (feuilles à plier et encarter pour fabriquer un livret).</li>
</ul>
<p>Une démo est accessible dans sa <a href="https://ateliers.esad-pyrenees.fr/pagetypetoprint/catalogue/">version écran</a> et dans sa <a href="https://ateliers.esad-pyrenees.fr/pagetypetoprint/catalogue/?print">version imprimable</a>.</p>
<h4 id="etape-1-configuration-du-document">Étape 1 : configuration du document</h4>
<pre><code class="language-yml"># Le thème
theme: &quot;catalogue&quot;

# Le titre 
title: Three D Scans

# Des méta-données spécifiques peuvent être créées 
url: threedscans.org
date: 19/09/2023

# Structure du contenu 
parts:
  - title: Three D Scans
    folder: content/images # ← le dossier d’images
    template: autofolder # ← le gabarit 

  - title: About
    file : content/about.md
    template : default
</code></pre>
<h4 id="etape-2-simplification-de-bodyphp">Étape 2 : simplification de <code>body.php</code></h4>
<p>Suppression de la navigation, du sommaire et des titres courants.</p>
<pre><code class="language-html">&lt;header id=&quot;header&quot;&gt;
    &lt;!-- Le titre  --&gt;
    &lt;h1&gt;&lt;?= $title ?&gt;&lt;/h1&gt;
    &lt;!-- le folio --&gt;
    &lt;span class=&quot;folio&quot;&gt;&lt;/span&gt;
    &lt;!-- affichage des méta-données spécifiques --&gt;
    &lt;div class=&quot;meta&quot;&gt;
        &lt;span class=&quot;meta-url&quot;&gt;&lt;a href=&quot;&lt;?= $url ?&gt;&quot;&gt;&lt;?= $url ?&gt;&lt;/a&gt;&lt;/span&gt;        
        &lt;span class=&quot;meta-date&quot;&gt;&lt;?= $date ?&gt;&lt;/span&gt;      
    &lt;/div&gt;
&lt;/header&gt;
&lt;main id=&quot;main&quot;&gt;
    &lt;!-- le contenu --&gt;      
    &lt;?= $html() ?&gt;
&lt;/main&gt;
</code></pre>
<h4 id="etape-2-simplification-de-la-css-stylecss">Étape 2 : simplification de la CSS <code>style.css</code></h4>
<p>Une large part de la feuille de style par défaut n’est pas utile dans le cadre d’un simple catalogue d’image. On peut ainsi supprimer une grande part des règles de mise en forme : méta-données, typographie, navigation, gabarits <em>interview</em>, <em>appendices</em>, glossaire, colonnes, images de note, notes de marge, etc.</p>
<p>Les règles correspondant au gabarit <code>autofolder</code> peuvent déterminer une grille <em>responsive</em> et préciser le comportement des images et des légendes :</p>
<pre><code class="language-css">.autofolder .content {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  grid-gap: var(--spacer);
}
.autofolder .figure {
  margin: 0;
  padding: 0;
}
.autofolder img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  object-position: bottom;
}
.autofolder figcaption {
  text-align: center;
  font-size: .75em;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  height: 1.5em;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
</code></pre>
<h4 id="etape-3-modifications-de-screen_headphp">Étape 3 : Modifications de <code>screen_head.php</code></h4>
<p>Les appels du script <code>screen/sidenotes.js</code> et des scripts d’<a href="../appendices/#à-l’aide-!">aide à la mise en page</a> sont supprimés. </p>
<p>Dans l’exemple de thème <code>catalogue</code>, on ajoute un appel au script (<code>screen/script.js</code>), qui intervient pour modifier aléatoirement la largeur des figures et déstructurer la grille.</p>
<h4 id="etape-4-modifications-de-la-css-printcss">Étape 4 : Modifications de la CSS <code>print.css</code></h4>
<p>Déclaration du format de page et de la pagination par défaut, ainsi que de la page de couverture et des pages vides.</p>
<pre><code class="language-css">@page {
  size: 210mm 297mm;
}  
@page:right {
  margin: 1cm 2cm 2.5cm 1cm;
  @bottom-right-corner {
    content: element(folioRunning);
    text-align: left;
  }
}
@page:left {
  margin: 1cm 1cm 2.5cm 2cm;
  @bottom-left-corner {
    content: element(folioRunning);
    text-align: left;
  }
}
@page cover {
  margin: 1cm 1cm 2.5cm 1cm;    
  @bottom-left-corner { display: none; }
  @bottom-right-corner { display: none; }
}
@page:blank {
  @bottom-left-corner { display: none; }
  @bottom-right-corner { display: none; }
}

</code></pre>
<h4 id="etape-5-modifications-de-print_headphp">Étape 5 : Modifications de <code>print_head.php</code></h4>
<p>Les appels des scripts liés aux notes iconographiques et de bas de page, au sommaire, etc. sont supprimés. </p>
<p>Le format fermé (A4) étant défini en CSS, on inclue l’appel du script <code>print/imposition.js</code> qui permet de générer l’imposition des pages A4 et de modifier le format de sortie pour que deux pages puissent être imprimées sur la même face.</p>
<p>Si besoin, ce script insère des pages blanches pour que la pagination soit un multiple de quatre.</p>
<p>Dans l’exemple de thème <code>catalogue</code> –juste pour montrer que c’est possible…–, on ajoute un appel au script <code>print/bigfigures.js</code>, qui intervient pour modifier la largeur et la hauteur de certaines figures, sélectionnées manuellement via leur <code>id</code>.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../pads/" class="btn btn-neutral float-left" title="Collaboration"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../advanced-notes/" class="btn btn-neutral float-right" title="Notes avancées">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>© Julien Bidoret, 2022–2023</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../pads/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../advanced-notes/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
